# TickerHub v1.3.0 - 2025-12-16

## Dual-Provider Stock Data & StockPage Redesign

This release introduces the dual-provider stock data architecture, enhanced stock charts, and a completely redesigned StockPage with tabbed navigation.

---

## Added

### Dual-Provider Stock Architecture
- **Twelve Data (Primary)**: Real-time quotes, historical charts, volume data
- **Finnhub (Fallback)**: Stock profiles, market cap, sector information
- **Smart Enrichment**: Twelve Data quotes are now automatically enriched with Finnhub profile data

### Stock Charts
- TradingView Lightweight Charts integration
- Multiple timeframes: 1D, 7D, 30D, 1Y
- Dynamic color based on price change (green/red)
- Crosshair with price/time tooltips
- Period high/low/change statistics

### StockPage Tabs
- **Chart Tab**: Historical price chart (default)
- **News Tab**: Placeholder for AI-powered news integration
- **About Tab**: Company overview and fundamentals

### Other Features
- Market Hours Indicator with open/close status
- TopStocksWithFilter dropdown component

---

## Changed

### StockPage Layout Reorganized
- **Two-row metrics layout**:
  - Row 1: Open, Prev Close, High, Low (price action)
  - Row 2: Market Cap, Volume, Sector, P/E Ratio (fundamentals)
- Removed duplicate Exchange info (now only in header badge)
- Removed duplicate Symbol info (now only in header)

### Stock Chart Improvements
- Fixed chart compression on 1D timeframe
- Added proper panning and scrolling
- Timeframe-specific bar spacing
- Fixed chart container width issues

### Documentation
- Complete README.md revamp
- Added INTEGRATION_PLAN.md for FMP + AI
- Created CHANGELOG.md with version history

---

## Fixed

- Stock chart data compression issue on 1D timeframe
- Chart not filling container width properly
- Finnhub profile data not being merged with Twelve Data quotes
- Hebrew locale date formatting in charts (changed to en-US)
- Tooltip delay issues (100ms delay added)

---

## Technical Details

### Files Modified
- `server/api/stocks/service.ts` - Added `fetchFinnhubProfile()` helper
- `client/src/pages/StockPage.tsx` - Complete redesign with tabs
- `client/src/components/StockChart.tsx` - Fixed chart configuration
- `README.md` - Complete revamp
- `INTEGRATION_PLAN.md` - New file

### API Changes
No breaking API changes. Stock endpoints continue to work as before, but now return enriched data:
- `GET /api/stocks/:symbol` now includes `marketCap` and `sector` from Finnhub

---

## Migration Notes

No migration required. This is a non-breaking update.

---

## What's Next (v1.4.0)

- FMP Integration for real market movers
- AI Natural Language Search (Gemini)
- AI Stock Summaries
- Swagger/OpenAPI Documentation
